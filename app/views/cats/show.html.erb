<%= render 'banner' %>
<section>
  <div class="container col-10 col-md-8 col-lg-6 justify-content-center">
    <div class="card">
      <% if @cat.item_picture.attached?%>
      <%=image_tag @cat.item_picture, alt: @cat.title, class: "card-img-top image_cat"%>
      <% else %>
      <%= image_tag("example.jpg", class: "card-img-top image_cat",)%>
      <% end %>
      <% if @cat.seller.present?%>
      <br>
      <p class="has-text-gray fg pt1">Sold by <%= link_to "#{@cat.user_seller}", profile_path(@cat.seller.profile) %>
      </p>
      <% end %>
      <div class="card-body text-center">
        <h5 class="card-title"><%= @cat.title %></h5>
        <p class="card-text"><%= @cat.description %></p>
      </div>
      <ul class="list-group list-group-flush text-center">
        <li class="list-group-item">Price : <%= @cat.price %> â‚¬</li>
      </ul>
      <div class="card-footer text-center">
        <% if user_signed_in? && current_user.id == @cat.seller_id %>
        <!-- card footer for seller -->
        <div class="row d-flex justify-content-around align-items-center">
          <div class="col text-left">
            <%= link_to 'Modifier', edit_cat_path(@cat.id) %>
          </div>
          <div class="col text-right">
            <%= link_to 'Retirer', @cat, method: :delete %>
          </div>
        </div>
        <% else %>
        <!-- card footer for non-sellers-->
        <div class="row d-flex justify-content-end">
          <div class="text-right pr-0">
            <% if current_cart_cats_quantity(@cat.id) %>
            <span class="badge badge-pill badge-info">
              <!-- current_cart_cats_quantity method defined in helper -->
              <%= current_cart_cats_quantity(@cat.id) %>
            </span>
            <% end %>
          </div>
          <div class="text-right px-1">
            <%= button_to "Ajouter", {action: 'create', controller: 'cart_cats', id: @cat.id, price: @cat.price}, {class:"btn btn-outline-primary btn-sm"} %>
          </div>
        </div>
        <% end %>
      </div>
    </div>
  </div>
</section>
